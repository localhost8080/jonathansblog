language: php

php:
- '5.5'
- '5.4'


before_script:
- THEME_SLUG=$(basename $(pwd))
- cd /tmp/
- git clone https://github.com/squizlabs/PHP_CodeSniffer.git phpcs
- git clone https://github.com/WordPress-Coding-Standards/WordPress-Coding-Standards.git wpcs
- cd phpcs
- scripts/phpcs --config-set installed_paths ../wpcs
- cd "$THEME_SLUG"
- phpenv rehash

script:

- /tmp/wordpress/phpcs/scripts/phpcs -p -s -v -n . --standard=WordPress --extensions=php

notifications:
  slack: jonathansblog:xcTlLtSp7QrTmEjxjH9Jq3bR
  email: false